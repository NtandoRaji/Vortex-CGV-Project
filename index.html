<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speed Shopper</title>
    <link rel="stylesheet" href="style.css">
</head> 
<body>
    <div class="menu-container">
        <h1>Speed Shopper</h1>
        <div class="menu-buttons">
            <button class="menu-btn" id="play-btn"><b>Play Game</b></button>
            <button class="menu-btn" id="how-to-play-btn"><b>How to Play</b></button>
            <button class="menu-btn" id="levels-btn"><b>Levels</b></button>
            <button class="menu-btn" id="settings-btn"><b>Settings</b></button>
            <button class="menu-btn" id="credits-btn"><b>Credits</b></button>
        </div>
    </div>

    <div class="overlay" id="overlay"></div>

    <!-- How to Play Popup -->
     <div class="popup-wrapper" id="how-to-play-wrapper">
        <div class="popup" id="how-to-play-popup">
            <span class="close-btn" id="close-how-to-play">&times;</span>
            <h2 id="how-to-text">How to Play</h2>
            <p><b>(For you first timers...)</b></p>
            <p><b> No Judgement here:)</b></p>
            <ul>
                <li>Use the <b id="how-to-text">WASD</b> keys to navigate and control the character.</li>
                <li>Use the <b id="how-to-text">"E"</b> key to interact / pick up an object.</li>
                <li>Use the <b id="how-to-text">"Q"</b> key to place the object.</li>
                <li>Use the <b id="how-to-text">"P"</b> key to pause & resume the game.</li>
                <li>Use the <b id="how-to-text">"C"</b> key to change the current scene.</li>
                <li>Use the <b id="how-to-text">"Space"</b> key to jump.</li>
            </ul>
        </div>
     </div>
    
    <!-- Credits Popup -->
     <div class="popup-wrapper" id="credits-popup-wrapper">
        <div class="popup" id="credits-popup">
            <span class="close-btn" id="close-credits">&times;</span>
            <h2 class="credits-popup-heading" id="credits-headings">Behind the Scenes Magic Awards</h2>
            <h3 id="credits-headings">Byte-Sized Builders</h3>
            <div class="developer-list">
                <p>Tania Bantam</p>
                <p>Ntando Raji</p>
                <p>Shaneel Kassen</p>
                <p>Yassir Ali</p>
                <p>Jaedon Moodley</p>
                <p>Taruna Naidoo</p>
            </div>            
            <h3 id="credits-headings">Quest Creator (Game Engine)</h3>
            <p>Brenden Giffiths. Explain exactly what was used</p>
            <h3 id="credits-headings">Sculpted Spectacles (Models)</h3>
            <ul>
                <li><a href="https://poly.pizza/m/T2QjC2ZQya" target="_blank" rel="noopener noreferrer">Carton by Kenney</a></li>
                <li><a href="https://poly.pizza/m/t3G8zaLjYe" target="_blank" rel="noopener noreferrer">Peanut Butter by Kenney</a></li>
                <li><a href="https://creativecommons.org/licenses/by/3.0/" target="_blank" rel="noopener noreferrer">Orange by Poly by Google [CC-BY]</a> via <a href="https://poly.pizza/m/9KbFqwZAqn2" target="_blank" rel="noopener noreferrer">Poly Pizza</a></li>
                <li><a href="https://creativecommons.org/licenses/by/3.0/" target="_blank" rel="noopener noreferrer">Banana by Poly by Google [CC-BY]</a> via <a href="https://poly.pizza/m/ahOO6wz8sV0" target="_blank" rel="noopener noreferrer">Poly Pizza</a></li>
                <li><a href="https://creativecommons.org/licenses/by/3.0/" target="_blank" rel="noopener noreferrer">Soda by Poly by Google [CC-BY]</a> via <a href="https://poly.pizza/m/2w4Av7jJ2_B" target="_blank" rel="noopener noreferrer">Poly Pizza</a></li>
                <li><a href="https://poly.pizza/m/xddz7Cu53w" target="_blank" rel="noopener noreferrer">Container Bathroom A by Isa Lousberg</a></li>
            </ul>
            <h3 id="credits-headings">Heartquake Tokens</h3>
            <p><a href='https://cdn-icons-png.flaticon.com/128/210/210545.png'>Lives Image</a> via <a href="https://www.flaticon.com/search?word=heart">Flaticon</a></p>
            <h3 id="credits-headings">Soundwave Sizzle</h3>
            <ul>
                <li><a href="https://pixabay.com/users/pixabay-1/" target="_blank" rel="noopener noreferrer">Menu Click sound</a> via <a href="https://pixabay.com/users/pixabay-1/" target="_blank" rel="noopener noreferrer">Pixabay</a></li>
                <li><a href="https://pixabay.com/users/sergequadrado-24990007/" target="_blank" rel="noopener noreferrer">Menu Music</a> via <a href="https://pixabay.com/users/sergequadrado-24990007/" target="_blank" rel="noopener noreferrer">Pixabay</a></li>
                <li><a href="https://pixabay.com/users/xtremefreddy-32332307/" target="_blank" rel="noopener noreferrer"> Game Music</a> via <a href="https://pixabay.com/users/xtremefreddy-32332307/" target="_blank" rel="noopener noreferrer">Pixabay</a></li>
                <li><a href="https://pixabay.com/users/pixabay-1/" target="_blank" rel="noopener noreferrer">Item selected sound</a> via <a href="https://pixabay.com/users/pixabay-1" target="_blank" rel="noopener noreferrer">Pixabay</a></li>
                <li><a href="https://pixabay.com/users/driken5482-45721595/" target="_blank" rel="noopener noreferrer">Lost Life sound</a> via <a href="https://pixabay.com/users/driken5482-45721595/" target="_blank" rel="noopener noreferrer">Pixabay</a></li>
                <li><a href="https://pixabay.com/sound-effects/emergency-alarm-with-reverb-29431/" target="_blank" rel="noopener noreferrer">Warning Sound</a> via <a href="https://pixabay.com/sound-effects/emergency-alarm-with-reverb-29431/" target="_blank" rel="noopener noreferrer">Pixabay</a></li>
            </ul>
        </div>
     </div>
    
    <!-- Settings Popup -->
    <div class="popup-wrapper" id="settings-popup-wrapper">
        <div class="popup" id="settings-popup">
            <span class="close-btn" id="close-settings">&times;</span>
            <h2 id="setting-heading">Settings</h2><br>
            <label for="volume">Music Volume:</label>
            <input type="range" id="volume" name="volume" min="0" max="100"><br><br>
        </div>
     </div>

    <!-- Levels Popup -->
    <div class="popup-wrapper" id="levels-popup-wrapper">
        <div class="popup" id="levels-popup">
            <span class="close-btn" id="close-levels">&times;</span>
            <h2 id="levels-heading">Pick Your Difficulty</h2>
            <ul>
                <li><button class="menu-btn" id="level-1-btn">Easy Sunday</button></li>
                <li><button class="menu-btn" id="level-2-btn">Mid-Week Mayhem</button></li>
                <li><button class="menu-btn" id="level-3-btn">Month-End Disaster</button></li>
            </ul>
        </div>
    </div>

    <script>
        // Load the background music
        const menuMusic = new Audio('/musicSound/menuMusic.mp3');
        menuMusic.loop = true; // Make the music loop
        menuMusic.volume = 0.5; // Set initial volume
        menuMusic.muted=false;
        document.body.addEventListener("mousemove", function () {
            menuMusic.play().catch(error => console.error('Music playback failed:', error)); // Handle autoplay restrictions
        })

        // Load the sound file
        const clickSound = new Audio('/musicSound/menuClick.mp3');

        // Function to play sound
        function playClickSound() {
            clickSound.play();
        }


        document.getElementById('play-btn').onclick = function() {
            playClickSound();
            window.location.href="indexGame.html";
        };

        document.getElementById('how-to-play-btn').onclick = function() {
            playClickSound();
            //show game instructions when clicks
            document.getElementById('overlay').classList.add('active');
            document.getElementById('how-to-play-popup').classList.add('active');
        };

        //close how to play menu
        document.getElementById('close-how-to-play').onclick = function(){
            playClickSound();
           // Correctly remove active class from overlay
            document.getElementById('overlay').classList.remove('active');
            document.getElementById('how-to-play-popup').classList.remove('active');
        };

        document.getElementById('credits-btn').onclick = function() {
            playClickSound();
            //show credits when clicked
            document.getElementById('overlay').classList.add('active');
            document.getElementById('credits-popup').classList.add('active');
        };
        //close credits menu
        document.getElementById('close-credits').onclick = function(){
            playClickSound();
           // Correctly remove active class from overlay
            document.getElementById('overlay').classList.remove('active');
            document.getElementById('credits-popup').classList.remove('active');
        };

        // Show settings menu
        document.getElementById('settings-btn').onclick = function() {
            playClickSound();
            document.getElementById('overlay').classList.add('active');
            document.getElementById('settings-popup').classList.add('active');
        };

        // Close settings menu
        document.getElementById('close-settings').onclick = function(){
            playClickSound();
            document.getElementById('overlay').classList.remove('active');
            document.getElementById('settings-popup').classList.remove('active');
        };

        //Show levels menu
        document.getElementById('levels-btn').onclick = function(){
            playClickSound();
            document.getElementById('overlay').classList.add('active');
            document.getElementById('levels-popup').classList.add('active');
        };
        
        //Close levels menu
        document.getElementById('close-levels').onclick = function(){
            playClickSound();
            document.getElementById('overlay').classList.remove('active');
            document.getElementById('levels-popup').classList.remove('active');
        };

        // Handle volume slider input
        const volumeSlider = document.getElementById('volume');
        if (volumeSlider instanceof HTMLInputElement) {
            volumeSlider.addEventListener('input', () => {
                menuMusic.volume = Number(volumeSlider.value) / 100;
                localStorage.setItem("vol",menuMusic.volume );
            });
        }
    </script>
</body>
</html>